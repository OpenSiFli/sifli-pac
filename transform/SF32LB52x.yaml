transforms:
  # Delete Reserved Fieldsets, Registers, Fields.
  - !DeleteFieldsets
      from: Rsvd.*

  - !DeleteRegisters
      block: .*
      from: rsvd.*

  - !DeleteFields
      fieldset: .*
      from: rsvd.*

  # Add interrupt table
  - !AddInterrupts
      devices: .*
      interrupts:
        - name: LPTIM1   
          value: 46      
        - name: LPTIM2   
          value: 47      
        - name: PMUC     
          value: 48      
        - name: RTC      
          value: 49      
        - name: DMAC1_CH1
          value: 50      
        - name: DMAC1_CH2
          value: 51      
        - name: DMAC1_CH3
          value: 52      
        - name: DMAC1_CH4
          value: 53      
        - name: DMAC1_CH5
          value: 54      
        - name: DMAC1_CH6
          value: 55      
        - name: DMAC1_CH7
          value: 56
        - name: DMAC1_CH8
          value: 57
        - name: MAILBOX2_CH1
          value: 58
        - name: USART1
          value: 59
        - name: SPI1
          value: 60
        - name: I2C1
          value: 61
        - name: EPIC
          value: 62
        - name: LCDC1
          value: 63
        - name: I2S1
          value: 64
        - name: GPADC
          value: 65
        - name: EFUSEC
          value: 66
        - name: AES
          value: 67
        - name: PTC1
          value: 68
        - name: TRNG
          value: 69
        - name: GPTIM1
          value: 70
        - name: GPTIM2
          value: 71
        - name: BTIM1
          value: 72
        - name: BTIM2
          value: 73
        - name: USART2
          value: 74
        - name: SPI2
          value: 75
        - name: I2C2
          value: 76
        - name: EXTDMA
          value: 77
        - name: I2C4
          value: 78
        - name: SDMMC1
          value: 79
        - name: MAILBOX2_CH2
          value: 80
        - name: PDM1
          value: 82
        - name: GPIO1
          value: 84
        - name: MPI1
          value: 85
        - name: MPI2
          value: 86
        - name: EZIP1
          value: 89
        - name: AUDPRC
          value: 90
        - name: TSEN
          value: 91
        - name: USBC
          value: 92
        - name: I2C3
          value: 93
        - name: ATIM1
          value: 94
        - name: USART3
          value: 95
        - name: AUD_HP
          value: 96
        - name: SECU1
          value: 98

  # TODO: Should we separate the LCPU peripherals in a new device?

  # LPSYS peripherals
  - !DeletePeripherals
      devices: .*
      from: LPSYS_.*

  - !Delete
      from: (?i).*lpsys.*

  # LPSYS peripherals, reserved for lpsys firmware
  - !DeletePeripherals
      devices: .*
      from: (LPTIM3|BTIM[34]|CRC2|PTC2|WDT2|USART[45]|DMAC2)

  # Merge Register Blocks
  # example: from usart2::Usart2 to usart::Usart
  - !MergeBlocks
      from: \b(\w+)\d+::(\w+)\d+\b
      to: $1::$2

  # Delete merged items
  - !Delete
      from: \b(\w+)\d+::.*


  # TODO: PINMUX pad_pa[39, 42] is different with pad_pa[0, 38], [43, 44]

  # # PINMUX
  # - !MergeFieldsets
  #     from: .*_pinmux::regs::PadPa\d+
  #     to: .*_pinmux::regs::PadPa

  # - !MakeRegisterArray
  #     blocks: .*_pinmux::.*Pinmux
  #     from: pad_pa\d+
  #     to: pad_pa